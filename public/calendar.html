<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>캘린더</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5">
      <!-- 월/연도 선택 -->
      <div class="d-flex justify-content-between align-items-center">
        <h2 id="month-year"></h2>
        <div>
          <button class="btn btn-outline-secondary" id="prevMonthBtn">
            &lt;
          </button>
          <button class="btn btn-primary" id="todayBtn">Today</button>
          <button class="btn btn-outline-secondary" id="nextMonthBtn">
            &gt;
          </button>
        </div>
      </div>

      <!-- 달력 표시 영역 -->
      <div id="calendar" class="mt-3"></div>

      <!-- 일정 추가 버튼 -->
      <button
        class="btn btn-primary mt-3"
        data-bs-toggle="modal"
        data-bs-target="#addEventModal"
      >
        일정 추가
      </button>

      <!-- 일정 추가 모달 -->
      <div
        class="modal fade"
        id="addEventModal"
        tabindex="-1"
        aria-labelledby="addEventModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="addEventModalLabel">일정 추가</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="event-title" class="form-label">일정 제목</label>
                <input
                  type="text"
                  class="form-control"
                  id="event-title"
                  placeholder="일정 제목"
                />
              </div>
              <div class="mb-3">
                <label for="event-date" class="form-label">날짜</label>
                <input type="date" class="form-control" id="event-date" />
              </div>
              <div class="mb-3">
                <label for="start-time" class="form-label">시작 시간</label>
                <input type="time" class="form-control" id="start-time" />
              </div>
              <div class="mb-3">
                <label for="end-time" class="form-label">종료 시간</label>
                <input type="time" class="form-control" id="end-time" />
              </div>
              <div class="mb-3">
                <label for="exercises" class="form-label">운동 종목</label>
                <input
                  type="text"
                  class="form-control"
                  id="exercises"
                  placeholder="운동 종목 (쉼표로 구분)"
                />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                닫기
              </button>
              <button type="button" class="btn btn-primary" id="saveEventBtn">
                저장
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- 일정 상세 보기 모달 -->
      <div
        class="modal fade"
        id="viewEventModal"
        tabindex="-1"
        aria-labelledby="viewEventModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="viewEventModalLabel">일정 상세</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p><strong>제목:</strong> <span id="viewEventTitle"></span></p>
              <p><strong>날짜:</strong> <span id="viewEventDate"></span></p>
              <p><strong>시간:</strong> <span id="viewEventTime"></span></p>
              <p>
                <strong>운동 종목:</strong>
                <span id="viewEventExercises"></span>
              </p>
              <div class="mb-3">
                <label for="event-color-picker" class="form-label">일정 색상 변경</label>
                <input type="color" class="form-control" id="event-color-picker" />
              </div>
              <div id="comments-section">
                <h6>댓글</h6>
                <ul id="comments-list" class="list-unstyled"></ul>
                <div class="mb-3">
                  <label for="new-comment" class="form-label">댓글 추가</label>
                  <input
                    type="text"
                    class="form-control"
                    id="new-comment"
                    placeholder="댓글을 입력하세요"
                  />
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                닫기
              </button>
              <button type="button" class="btn btn-primary" id="saveCommentBtn">
                댓글 저장
              </button>
            </div>
          </div>
        </div>
      </div>

      <style>
        #calendar {
          display: grid;
          grid-template-columns: repeat(7, 1fr); /* 7일의 열 생성 */
          gap: 5px;
        }
        .event-title {
          display: block;
          cursor: pointer; /* 클릭 가능하도록 커서 변경 */
          background-color: #f0f8ff; /* 일정 배경색 지정 */
          padding: 5px;
          border-radius: 5px;
        }
        .day {
          border: 1px solid #ddd;
          padding: 10px;
          height: 100px;
          position: relative;
        }
        .day-number {
          font-weight: bold;
          position: absolute;
          top: 5px;
          left: 5px;
        }
        .event-circle {
          width: 12px;
          height: 12px;
          border-radius: 50%; /* 동그라미 모양을 만들기 위해 사용 */
          background-color: #007bff; /* 이 부분이 동그라미의 색상 (파란색) */
          position: absolute;
          bottom: 5px;
          right: 5px; /* 위치 지정 */
          display: none;
        }

        /* 모바일 환경에 맞춘 스타일 조정 */
        @media (max-width: 768px) {
          #calendar {
            grid-template-columns: repeat(7, 1fr); /* 작은 화면에서는 7일씩 표시 */
          }
          .day {
            height: 80px; /* 모바일에서 셀의 높이를 조금 더 높임 */
          }
          .event-circle {
            display: block; /* 모바일에서는 동그라미 표시 */
          }
          .event-title {
            display: none;
          }
        }
      </style>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/calendar.js"></script>
  </body>
</html>
